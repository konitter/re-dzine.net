<!DOCTYPE html>
<html lang="ja" xmlns:og="http://ogp.me/ns#" xmlns:fb="http://www.facebook.com/2008/fbml">
<head>
	<meta charset="utf-8">
	<title>ブログをWordPressからMiddlemanに移行してGitHub Pagesで運用するようにしてみた | REFLECTDESIGN</title>
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<meta name="author" content="konitter">
	<meta property="og:title" content="ブログをWordPressからMiddlemanに移行してGitHub Pagesで運用するようにしてみた | REFLECTDESIGN">
	<meta property="og:site_name" content="REFLECTDESIGN">
	<meta property="og:description" content="来月で今契約しているレンタルサーバの期限が切れるということもあって、今回Middleman + GitHub Pagesで作りなおしてみました。いわゆる静的サイトジェネレータでブログを静的ファイルにしちゃえば、GitHub Pagesでホスティングできるので固定費も節約できていいかなと。ジェネレータ選びMiddlemanに限らず静的サイトジェネレータは他にもいくつかありますが、ジェネレータ選びで重要視したポイントは、なんといってもまずはWordPressからの移行がしやすいこ [...]">
	<meta property="og:type" content="article">
	<meta property="og:url" content="http://re-dzine.net/2013/10/wordpress-to-middleman/">
	<meta property="og:image" content="http://re-dzine.net/img/ogp.png">
	<meta property="fb:admins" content="100000698495270">
	<meta property="fb:app_id" content="231858050163702">
	<meta property="article:publisher" content="https://www.facebook.com/konitter">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="alternate" type="application/rss+xml" href="/feed.xml" title="REFLECTDESIGN">
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
</head>
<body>
<header id="header">
	<a href="/" id="logo"><img src="/img/r.png" alt="REFLECTDESIGN"></a>
</header>
<main role="main">
	<article>
		<header>
			<h1>ブログをWordPressからMiddlemanに移行してGitHub Pagesで運用するようにしてみた</h1>
			<div class="meta"><time datetime="2013-10-30T15:08:00+09:00">2013-10-30</time> - by <a href="/about/">konitter</a></div>
		</header>
		<div class="entry">
<p>来月で今契約しているレンタルサーバの期限が切れるということもあって、今回Middleman + GitHub Pagesで作りなおしてみました。いわゆる静的サイトジェネレータでブログを静的ファイルにしちゃえば、GitHub Pagesでホスティングできるので固定費も節約できていいかなと。</p>

<h2>ジェネレータ選び</h2>

<p>Middlemanに限らず静的サイトジェネレータは他にもいくつかありますが、ジェネレータ選びで重要視したポイントは、なんといってもまずはWordPressからの移行がしやすいこと、そして記事のパーマリンクを移行前と同じ状態にできること。あとは、GitHub Pagesへのデプロイがしやすい機能があればなおよしって感じ。</p>

<p>Node.js製のものも含めていろいろ触ってみた結果、これらのポイントを満たしていて、かつ今やるならアツそうなジェネレータということで、今回「Middleman」を選びました。といっても、Rubyとの相性がどうとかあるらしいけど、Windowsだと何かとエラるので環境づくりにはかなり苦労しました。</p>

<ul>
<li><a href="http://middlemanapp.com/">Middleman: Hand-crafted frontend development</a></li>
</ul>

<h2>WordPressからの移行準備</h2>

<p>移行で一番めんどいのが、記事データのマークダウン化。で、調べてみると、WordPressからエクスポートしたXMLファイルから、Middlemanで使えるフォーマットにしたマークダウンファイルにコンバートしてくれるRubyスクリプトを見つけた。</p>

<ul>
<li><a href="https://github.com/salmansqadeer/wordpress-to-middleman">salmansqadeer/wordpress-to-middleman - GitHub</a></li>
</ul>

<p>「Getting Started」のとおりに準備して、<code>ruby wordpress_to_middleman.rb</code>を叩けば、記事ごとにマークダウンファイル化してくれる。とはいっても完璧ではないので、もろもろ調整は必要です。</p>

<h2>middleman-blogでコーディング</h2>

<p>Middlemanにはブログを作るための環境が簡単に作れる「middleman-blog」というエクステンションが用意されていて、基本的にはこれを使うといい感じ。</p>

<ul>
<li><a href="http://middlemanapp.com/blogging/">Middleman: Blogging</a></li>
</ul>

<p>あとは求める環境に応じて<code>config.rb</code>で設定を書いたり、テンプレートなど必要なファイルを用意する。</p>

<h2>GitHub Pagesへのホスティング</h2>

<p>GitHub Pagesへのデプロイ・ホスティング、および独自ドメインの設定まわりは、以下のページが参考になりました。</p>

<ul>
<li><a href="http://camuro.org/blog/2013/09/renewal.html">WordPressからmiddlemanに移行してGithub Pagesで運用する方法 - CAMURO</a></li>
<li><a href="http://blog.coiney.com/2013/06/21/host-middleman-blog-on-github/">middleman-blogをgithubでホストする - Coiney Developer Blog</a></li>
</ul>

<h2>まとめ</h2>

<p>こんな感じで静的サイト化しておけば、他によさそうなジェネレータが出てきたときに、浮気しやすくなっていいかなと。<br>
あ、あと、今回の移行にともなって、RSSフィードのURLが変わってますので、このブログをRSSで読んでるっていう奇特な方は、URLの変更をお願いします。</p>

<ul>
<li><a href="http://re-dzine.net/feed.xml">http://re-dzine.net/feed.xml</a></li>
</ul>
		</div>
	</article>
	<aside class="share">
		<ul>
			<li><div class="fb-like" data-send="false" data-layout="button_count" data-width="auto" data-show-faces="false"></div><div id="fb-root"></div><script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/en_US/all.js#xfbml=1&appId=231858050163702";fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'));</script></li>
			<li><a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="konitter" data-lang="en">Tweet</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');</script></li>
		</ul>
	</aside>
	<ul class="pager">
		<li>Older Entry: <a href="/2013/08/emmet-livestyle/">Emmet LiveStyleで爆速HTML/CSSコーディングの境地へ</a></li>
		<li>Newer Entry: <a href="/2013/11/markupcafe-tokyo-vol2-my-idea/">MarkupCafe Tokyo Vol.2のお題について考えてみた</a></li>
	</ul>
</main>
<script>
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-10906036-1']);
_gaq.push(['_trackPageview']);
_gaq.push(['_trackPageLoadTime']);
(function() {
	var ga = document.createElement('script'); ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
</body>
</html>
